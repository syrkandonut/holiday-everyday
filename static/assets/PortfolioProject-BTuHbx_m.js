import{L as w}from"./LazyImage-BnUXDqxF.js";import{u as V,a as D}from"./PortfolioGrid.vue_vue_type_script_setup_true_lang-CzEuwLcd.js";import{P as N}from"./consts-BZhkAmfR.js";import{d as y,o as n,c as i,a as s,b as t,w as r,t as f,u as l,F as x,h as b,s as z,r as k,f as g,e as h,E as $,D as S,A as F,C as J,i as G,j as R,k as A,l as E,n as O,p as B,q as P,g as H,H as K,I as M,J as C,K as j,L as U}from"./index-ep92Lj8v.js";import{a as q,b as Y,c as Z,d as Q,e as W}from"./CarouselPrevious.vue_vue_type_script_setup_true_lang-Dl6mSkG2.js";import{_ as X}from"./PortfolioSection.vue_vue_type_script_setup_true_lang-DuRYnGPt.js";import{A as ee}from"./usePortfolio-DUfdnArz.js";const se={class:"-mt-16 flex flex-col-reverse items-center justify-between pt-16 md:-mt-20 md:h-svh md:flex-row md:pt-20"},te={class:"flex h-full max-w-[58rem] flex-col gap-12 ~px-4/12 ~py-8/16"},le={class:"hidden items-center gap-2 text-grey-100 t-sm md:flex"},ae={class:"flex flex-col gap-6"},oe={class:"text-primary"},ne={class:"flex items-center gap-4 t-md"},re={class:"text-grey-100"},ie={class:"text-primary"},ce={key:0,class:"flex flex-wrap gap-2"},ue={class:"mt-auto flex flex-col ~gap-6/12"},de={class:"t-lg"},pe={class:"flex items-center gap-8"},me={class:"flex items-center gap-3"},fe={class:"flex flex-col gap-1"},_e={class:"text-primary t-md"},ve={class:"flex items-center gap-3"},ge={class:"flex flex-col gap-1"},he={class:"text-primary t-md"},xe=y({__name:"Banner",props:{id:{},previewImage:{},title:{},type:{},customer:{},tags:{},review:{},description:{},place:{},photographer:{},video:{},fullDescription:{},images:{},published:{type:Boolean}},setup(d){const o=V();return(a,e)=>{const c=k("RouterLink"),p=k("Location"),_=k("Photo");return n(),i("section",se,[s("div",te,[s("div",le,[t(c,{to:{name:"HOME"}},{default:r(()=>e[0]||(e[0]=[g(" Главная ")])),_:1}),e[2]||(e[2]=s("div",{class:"size-1 rounded-full bg-grey-100"},null,-1)),t(c,{to:{name:"PORTFOLIO"}},{default:r(()=>e[1]||(e[1]=[g(" Портфолио ")])),_:1}),e[3]||(e[3]=s("div",{class:"size-1 rounded-full bg-grey-100"},null,-1)),s("p",null,f(a.title),1)]),s("div",ae,[s("h2",oe,f(a.title),1),s("div",ne,[s("p",re,f(l(N)[a.type]),1),s("p",ie,f(a.customer),1)]),l(o)?(n(),i("div",ce,[(n(!0),i(x,null,b(a.tags,v=>{var u;return n(),h(D,{text:((u=l(o).get(v))==null?void 0:u.name)||"Тег не найден",key:v},null,8,["text"])}),128))])):z("",!0)]),s("div",ue,[s("p",de,f(a.description),1),s("div",pe,[s("div",me,[t(p,{class:"size-6 text-primary"}),s("div",fe,[s("p",_e,f(a.place),1),e[4]||(e[4]=s("p",{class:"text-grey-100 t-sm"},"Площадка",-1))])]),s("div",ve,[t(_,{class:"size-6 text-primary"}),s("div",ge,[s("p",he,f(a.photographer),1),e[5]||(e[5]=s("p",{class:"text-grey-100 t-sm"},"Фотограф",-1))])])])])]),t(w,{src:a.previewImage,alt:"О нас (картинка)",class:"h-[50svh] w-full object-cover md:h-full md:rounded-l-xl md:~w-[24rem]/[48rem]"},null,8,["src"])])}}}),ye=["src"],T=y({__name:"Video",props:{video:{},class:{}},setup(d){const o=d,a=$(()=>{if(!o.video)return"";const p=o.video.match(/https:\/\/rutube\.ru\/video\/([a-zA-Z0-9]+)\//);return p?p[1]:""}),e=$(()=>`https://rutube.ru/play/embed/${a.value}?skinColor=3C5537`),c=$(()=>`https://rutube.ru/api/video/${a.value}/thumbnail/?redirect=1`);return(p,_)=>{const v=k("Play");return n(),h(l(B),null,{default:r(()=>[t(l(G),{class:F(l(J)("group relative size-full",o.class))},{default:r(()=>[t(w,{src:c.value,class:"transition-all duration-300 group-hover:brightness-75",alt:"Image",scaleable:""},null,8,["src"]),t(S,{as:"div",class:"absolute inset-1/2 z-[1] -translate-x-1/2 -translate-y-1/2 bg-primary text-white opacity-0 transition-opacity duration-300 group-hover:opacity-100"},{default:r(()=>[t(v,{class:"size-6 2xl:size-8"})]),_:1})]),_:1},8,["class"]),t(l(O),{class:"h-full max-h-[96%]"},{default:r(()=>[t(l(R),{class:"hidden"},{default:r(()=>[t(l(A),null,{default:r(()=>_[0]||(_[0]=[g("Видео отзыва")])),_:1}),t(l(E),null,{default:r(()=>_[1]||(_[1]=[g("Описание")])),_:1})]),_:1}),s("iframe",{src:e.value,class:"size-full pt-4"},null,8,ye)]),_:1})]),_:1})}}}),$e={class:"flex flex-col justify-between gap-12 ~px-4/12 ~pt-16/28 md:flex-row"},we={class:"flex w-full flex-col gap-3 md:~w-[36rem]/[48rem]"},be=y({__name:"About",props:{description:{}},setup(d){return(o,a)=>(n(),i("section",$e,[a[0]||(a[0]=s("h2",null,"О свадьбе",-1)),s("div",we,[(n(!0),i(x,null,b(o.description.split(`\r
`),(e,c)=>(n(),i("p",{key:c,class:"t-lg"},f(e),1))),128))])]))}}),ke={class:"flex flex-col items-center gap-12 ~px-4/12 ~pt-16/28"},Pe={class:"grid w-full auto-rows-fr grid-cols-2 gap-4 sm:grid-cols-4 sm:gap-6"},ze=["onClick"],Ie={class:"flex-1 overflow-hidden pt-4"},Ce={class:"absolute left-4 top-1/2 hidden sm:block"},je={class:"absolute right-4 top-1/2 hidden sm:block"},Le=10,Re=y({__name:"Images",props:{images:{}},setup(d){const o=d,a=P(1),e=P(null),c=P(!1),p=$(()=>o.images.slice(0,a.value*Le));function _(v){e.value=v,c.value=!0}return(v,u)=>(n(),i("section",ke,[s("div",Pe,[(n(!0),i(x,null,b(p.value,(m,I)=>(n(),i("div",{onClick:De=>_(I),key:I,class:"group size-full cursor-pointer sm:[&:nth-child(10n+1)]:col-span-2 sm:[&:nth-child(10n+1)]:row-span-2 sm:[&:nth-child(10n-2)]:col-span-2 sm:[&:nth-child(10n-2)]:row-span-2"},[t(w,{src:m,alt:m,class:"aspect-[16/13] rounded-lg",scaleable:""},null,8,["src","alt"])],8,ze))),128))]),p.value.length<o.images.length?(n(),h(H,{key:0,onClick:u[0]||(u[0]=m=>a.value++)},{default:r(()=>u[2]||(u[2]=[g(" Показать ещё ")])),_:1})):z("",!0),t(l(B),{open:c.value,"onUpdate:open":u[1]||(u[1]=m=>c.value=m)},{default:r(()=>[t(l(O),{class:"h-full max-h-[96%]"},{default:r(()=>[t(l(R),{class:"hidden"},{default:r(()=>[t(l(A),null,{default:r(()=>u[3]||(u[3]=[g("Изображение")])),_:1}),t(l(E),null,{default:r(()=>u[4]||(u[4]=[g("Описание")])),_:1})]),_:1}),s("div",Ie,[e.value!==null?(n(),h(l(W),{key:0,opts:{loop:!0,align:"center",startIndex:e.value},class:"h-full","data-vaul-no-drag":""},{default:r(()=>[t(l(q),{class:"h-full"},{default:r(()=>[(n(!0),i(x,null,b(o.images,m=>(n(),h(l(Y),{key:m,class:"relative flex basis-full justify-center sm:items-center"},{default:r(()=>[t(w,{src:m,alt:m,class:"w-auto rounded-lg bg-transparent sm:max-h-[80%] sm:max-w-[80%]",transparent:""},null,8,["src","alt"])]),_:2},1024))),128))]),_:1}),s("div",Ce,[t(l(Z))]),s("div",je,[t(l(Q))])]),_:1},8,["opts"])):z("",!0)])]),_:1})]),_:1},8,["open"])]))}}),Ae={class:"flex flex-col items-start ~gap-8/24 ~px-4/12 ~pt-16/28"},Ee={class:"flex w-full flex-col-reverse items-start ~gap-8/24 md:flex-row md:justify-between"},Oe={class:"flex flex-col gap-4"},Be={class:"aspect-[8/6] w-full shrink-0 overflow-hidden rounded-xl md:~w-[12rem]/[60rem]"},Te=y({__name:"Review",props:{video:{},previewImage:{},text:{}},setup(d){return(o,a)=>(n(),i("section",Ae,[a[0]||(a[0]=s("h2",null,"Что говорят наши клиенты",-1)),s("div",Ee,[s("div",Oe,[(n(!0),i(x,null,b(o.text.split(`\r
`),(e,c)=>(n(),i("p",{key:c,class:"t-lg"},f(e),1))),128))]),s("div",Be,[o.video?(n(),h(T,{key:0,video:o.video,class:"size-full"},null,8,["video"])):(n(),h(w,{key:1,src:o.previewImage,alt:"Отзыв",class:"size-full",scaleable:""},null,8,["src"]))])])]))}}),L=P(null),Ve=d=>{const o=K(d),a=async()=>{try{const e=await ee.get(`/projects/${o.value}/`);L.value=e.data}catch(e){console.log(e)}};return M(o,()=>{a()},{immediate:!0}),L},Me=y({__name:"PortfolioProject",setup(d){const o=U(),a=$(()=>o.params.id),e=Ve(a);return(c,p)=>l(e)?(n(),i(x,{key:0},[t(xe,C(j(l(e))),null,16),t(T,{video:l(e).video,class:"aspect-[5/2]"},null,8,["video"]),t(be,{description:l(e).fullDescription},null,8,["description"]),t(Re,{images:l(e).images},null,8,["images"]),t(Te,C(j(l(e).review)),null,16),t(X,{title:"Больше свадеб"})],64)):z("",!0)}});export{Me as default};
